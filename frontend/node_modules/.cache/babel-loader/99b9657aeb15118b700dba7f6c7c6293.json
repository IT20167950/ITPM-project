{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\1\\\\Project\\\\ITPM\\\\frontend\\\\src\\\\components\\\\User\\\\signin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './signin.css';\nimport axios from \"axios\";\nimport { showErrMsg, showSuccessMsg } from './../Notification';\nimport { isEmpty, isEmail, isLength, isMatch } from './validation';\nimport { FormInput, FormSelect, MultiFormSelect } from '../../components/Form/Form';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: '',\n  email: '',\n  password: '',\n  role: '',\n  cf_password: '',\n  err: '',\n  success: ''\n};\n\nfunction Signin() {\n  _s();\n\n  const [user, setUser] = useState(initialState);\n  const {\n    name,\n    email,\n    role,\n    password,\n    cf_password,\n    err,\n    success\n  } = user;\n\n  const handleChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  let navigate = useNavigate();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isEmpty(email) || isEmpty(role) || isEmpty(password) || isEmpty(cf_password)) return setUser({ ...user,\n      err: \"Please fill in all fields.\",\n      success: ''\n    });\n    if (!isEmail(email)) return setUser({ ...user,\n      err: \"Invalid emails.\",\n      success: ''\n    });\n    if (isLength(password)) return setUser({ ...user,\n      err: \"Password must be at least 6 characters.\",\n      success: ''\n    });\n    if (!isMatch(password, cf_password)) return setUser({ ...user,\n      err: \"Password did not match.\",\n      success: ''\n    });\n\n    try {\n      const res = await axios.post('/user/register', {\n        name,\n        email,\n        password,\n        role\n      });\n      setUser({ ...user,\n        err: '',\n        success: res.data.msg\n      });\n      let path = `/log`;\n      navigate(path);\n    } catch (err) {\n      err.response.data.msg && setUser({ ...user,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signin\",\n    children: [err && showErrMsg(err), success && showSuccessMsg(success), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sub-main\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(FormInput, {\n                  type: \"text\",\n                  placeholder: \"Enter email address\",\n                  id: \"email\",\n                  value: email,\n                  name: \"email\",\n                  onChange: handleChangeInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"second-input\",\n                children: /*#__PURE__*/_jsxDEV(FormInput, {\n                  type: \"password\",\n                  placeholder: \"Enter password\",\n                  id: \"password\",\n                  value: password,\n                  name: \"password\",\n                  onChange: handleChangeInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"next-input\",\n                children: /*#__PURE__*/_jsxDEV(FormInput, {\n                  type: \"password\",\n                  placeholder: \"Confirm password\",\n                  id: \"cf_password\",\n                  value: cf_password,\n                  name: \"cf_password\",\n                  onChange: handleChangeInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(FormSelect, {\n                  type: \"text\",\n                  placeholder: \"Enter role address\",\n                  id: \"role\",\n                  value: role,\n                  name: \"role\",\n                  onChange: handleChangeInput,\n                  options: AT_OPTIONS\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"button buttonSignin\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"SignIn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"link\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/log\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signin, \"lHvoe1X7Ld/3XUw2ODA0HCwRO8Q=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Signin;\nconst AT_OPTIONS = [{\n  label: 'Select Role',\n  value: \"\"\n}, ...['Seller ', 'Buyer', 'Other'].map(i => {\n  return {\n    label: i,\n    value: i\n  };\n})];\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["E:/Project/1/Project/ITPM/frontend/src/components/User/signin.js"],"names":["React","useState","axios","showErrMsg","showSuccessMsg","isEmpty","isEmail","isLength","isMatch","FormInput","FormSelect","MultiFormSelect","useNavigate","initialState","name","email","password","role","cf_password","err","success","Signin","user","setUser","handleChangeInput","e","value","target","navigate","handleSubmit","preventDefault","res","post","data","msg","path","response","AT_OPTIONS","label","map","i"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport './signin.css';\r\nimport axios from \"axios\";\r\nimport { showErrMsg, showSuccessMsg } from './../Notification'\r\nimport { isEmpty, isEmail, isLength, isMatch } from './validation'\r\nimport {FormInput , FormSelect , MultiFormSelect} from '../../components/Form/Form'\r\nimport { useNavigate  } from \"react-router-dom\";\r\n\r\nconst initialState = {\r\n  name: '',\r\n  email: '',\r\n  password: '',\r\n  role: '',\r\n  cf_password: '',\r\n  err: '',\r\n  success: ''\r\n}\r\n\r\nfunction Signin() {\r\n\r\n  const [user, setUser] = useState(initialState)\r\n\r\n  const { name, email, role, password, cf_password, err, success } = user\r\n\r\n  const handleChangeInput = e => {\r\n    const { name, value } = e.target\r\n    setUser({ ...user, [name]: value, err: '', success: '' })\r\n  }\r\n\r\n  let navigate = useNavigate(); \r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n    if (isEmpty(email) || isEmpty(role) || isEmpty(password) || isEmpty(cf_password))\r\n      return setUser({ ...user, err: \"Please fill in all fields.\", success: '' })\r\n\r\n    if (!isEmail(email))\r\n      return setUser({ ...user, err: \"Invalid emails.\", success: '' })\r\n\r\n    if (isLength(password))\r\n      return setUser({ ...user, err: \"Password must be at least 6 characters.\", success: '' })\r\n\r\n    if (!isMatch(password, cf_password))\r\n      return setUser({ ...user, err: \"Password did not match.\", success: '' })\r\n\r\n\r\n\r\n    try {\r\n      const res = await axios.post('/user/register', {\r\n        name, email, password, role\r\n      })\r\n\r\n      setUser({ ...user, err: '', success: res.data.msg })\r\n      let path = `/log` ; \r\n\r\n      navigate(path);\r\n\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        setUser({ ...user, err: err.response.data.msg, success: '' })\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"signin\">\r\n      {err && showErrMsg(err)}\r\n      {success && showSuccessMsg(success)}\r\n      <form onSubmit={handleSubmit}>\r\n\r\n        \r\n        <div className=\"main\">\r\n\r\n\r\n          <div className='sub-main'>\r\n            <div>\r\n\r\n              <div className='container-image'>\r\n\r\n              </div>\r\n              <div className=\"box\">\r\n                <h1>Sign In</h1>\r\n                <div>\r\n                  <FormInput type=\"text\" placeholder=\"Enter email address\" id=\"email\"\r\n                    value={email} name=\"email\" onChange={handleChangeInput} />\r\n                </div>\r\n                <div className='second-input'>\r\n                  <FormInput type=\"password\" placeholder=\"Enter password\" id=\"password\"\r\n                    value={password} name=\"password\" onChange={handleChangeInput} />\r\n                </div>\r\n                <div className='next-input'>\r\n                  <FormInput type=\"password\" placeholder=\"Confirm password\" id=\"cf_password\"\r\n                    value={cf_password} name=\"cf_password\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                \r\n                <div>\r\n                  <FormSelect type=\"text\" placeholder=\"Enter role address\" id=\"role\"\r\n                    value={role} name=\"role\" onChange={handleChangeInput}   options={AT_OPTIONS}/>\r\n                </div>\r\n                <div className='button buttonSignin'>\r\n                  <button>SignIn</button>\r\n                </div>\r\n                <br></br>\r\n                <p className='link'>\r\n                  <a href='/log'>Login</a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nconst AT_OPTIONS = [{ label : 'Select Role' ,value : \"\" } , \r\n...['Seller ', 'Buyer', 'Other'].map( i => {\r\n    return{\r\n        label :  i  ,\r\n         value : i \r\n    }\r\n})];\r\n\r\nexport default Signin\r\n"]},"metadata":{},"sourceType":"module"}