{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\1\\\\ITPM\\\\frontend\\\\src\\\\components\\\\signin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './signin.css';\nimport axios from \"axios\";\nimport { showErrMsg, showSuccessMsg } from './Notification';\nimport { isEmpty, isEmail, isLength, isMatch } from './validation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: '',\n  email: '',\n  password: '',\n  cf_password: '',\n  err: '',\n  success: ''\n};\n\nfunction Signin() {\n  _s();\n\n  const [user, setUser] = useState(initialState);\n  const {\n    name,\n    email,\n    password,\n    cf_password,\n    err,\n    success\n  } = user;\n\n  const handleChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isEmpty(email) || isEmpty(password) || isEmpty(cf_password)) return setUser({ ...user,\n      err: \"Please fill in all fields.\",\n      success: ''\n    });\n    if (!isEmail(email)) return setUser({ ...user,\n      err: \"Invalid emails.\",\n      success: ''\n    });\n    if (isLength(password)) return setUser({ ...user,\n      err: \"Password must be at least 6 characters.\",\n      success: ''\n    });\n    if (!isMatch(password, cf_password)) return setUser({ ...user,\n      err: \"Password did not match.\",\n      success: ''\n    });\n\n    try {\n      const res = await axios.post('/user/register', {\n        name,\n        email,\n        password\n      });\n      setUser({ ...user,\n        err: '',\n        success: res.data.msg\n      });\n    } catch (err) {\n      err.response.data.msg && setUser({ ...user,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signin\",\n    children: [err && showErrMsg(err), success && showSuccessMsg(success), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sub-main\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Sign In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 14\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Enter email address\",\n                  id: \"email\",\n                  value: email,\n                  name: \"email\",\n                  onChange: handleChangeInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 14\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 14\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"second-input\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  placeholder: \"Enter password\",\n                  id: \"password\",\n                  value: password,\n                  name: \"password\",\n                  onChange: handleChangeInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 14\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 14\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"next-input\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  placeholder: \"Confirm password\",\n                  id: \"cf_password\",\n                  value: cf_password,\n                  name: \"cf_password\",\n                  onChange: handleChangeInput\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 14\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 14\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"signin-button\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"Signin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 16\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 14\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"link\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/log\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 14\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 12\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 10\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signin, \"56TLVdFAcWBHHsQI8j4Us/N+mhk=\");\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["E:/Project/1/ITPM/frontend/src/components/signin.js"],"names":["React","useState","axios","showErrMsg","showSuccessMsg","isEmpty","isEmail","isLength","isMatch","initialState","name","email","password","cf_password","err","success","Signin","user","setUser","handleChangeInput","e","value","target","handleSubmit","preventDefault","res","post","data","msg","response"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\";\r\nimport './signin.css';\r\nimport axios from \"axios\";\r\nimport {showErrMsg, showSuccessMsg} from './Notification'\r\nimport {isEmpty, isEmail, isLength, isMatch} from './validation'\r\n\r\nconst initialState = {\r\n  name: '',\r\n  email: '',\r\n  password: '',\r\n  cf_password: '',\r\n  err: '',\r\n  success: ''\r\n}\r\n\r\n function Signin() {\r\n\r\n  const [user, setUser] = useState(initialState)\r\n\r\n    const {name, email, password,cf_password, err, success} = user\r\n\r\n    const handleChangeInput = e => {\r\n        const {name, value} = e.target\r\n        setUser({...user, [name]:value, err: '', success: ''})\r\n    }\r\n\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault()\r\n        if(isEmpty(email) || isEmpty(password) || isEmpty(cf_password))\r\n                return setUser({...user, err: \"Please fill in all fields.\", success: ''})\r\n\r\n        if(!isEmail(email))\r\n            return setUser({...user, err: \"Invalid emails.\", success: ''})\r\n\r\n        if(isLength(password))\r\n            return setUser({...user, err: \"Password must be at least 6 characters.\", success: ''})\r\n        \r\n        if(!isMatch(password, cf_password))\r\n            return setUser({...user, err: \"Password did not match.\", success: ''})\r\n\r\n        try {\r\n            const res = await axios.post('/user/register', {\r\n                name, email, password\r\n            })\r\n\r\n            setUser({...user, err: '', success: res.data.msg})\r\n        } catch (err) {\r\n            err.response.data.msg && \r\n            setUser({...user, err: err.response.data.msg, success: ''})\r\n        }\r\n\r\n  }\r\n\r\n\r\n    return (\r\n\r\n    <div className=\"signin\">\r\n      {err && showErrMsg(err)}\r\n      {success && showSuccessMsg(success)}\r\n   <form onSubmit={handleSubmit}>\r\n      <div className=\"main\">\r\n\r\n        \r\n       <div className='sub-main'>\r\n         <div>\r\n           \r\n             <div className='container-image'>\r\n               \r\n  \r\n            \r\n             \r\n  \r\n          </div>\r\n           <div className=\"box\">\r\n             <h1>Sign In</h1>\r\n             <div>\r\n               \r\n             <input type=\"text\" placeholder=\"Enter email address\" id=\"email\"\r\n                    value={email} name=\"email\" onChange={handleChangeInput} />\r\n             </div>\r\n\r\n  \r\n             <div className='second-input'>\r\n             <input type=\"password\" placeholder=\"Enter password\" id=\"password\"\r\n                    value={password} name=\"password\" onChange={handleChangeInput} /> \r\n             </div>\r\n\r\n\r\n             <div className='next-input'>\r\n             <input type=\"password\" placeholder=\"Confirm password\" id=\"cf_password\"\r\n                    value={cf_password} name=\"cf_password\" onChange={handleChangeInput} />\r\n             </div>\r\n\r\n             <div className='signin-button'>\r\n               <button>Signin</button>\r\n             </div>\r\n             \r\n             \r\n             <p className='link'>\r\n                <a href='/log'>Login</a>\r\n             </p>\r\n           </div>\r\n         </div>\r\n  \r\n       </div>\r\n      </div>\r\n    </form>\r\n    </div>\r\n    );\r\n  }\r\n \r\n  \r\nexport default Signin\r\n"]},"metadata":{},"sourceType":"module"}