{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\1\\\\Project\\\\ITPM\\\\frontend\\\\src\\\\components\\\\User\\\\signin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport './signin.css';\nimport axios from \"axios\";\nimport { showErrMsg, showSuccessMsg } from './../Notification';\nimport { isEmpty, isEmail, isLength, isMatch } from './validation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: '',\n  email: '',\n  password: '',\n  role: '',\n  cf_password: '',\n  err: '',\n  success: ''\n};\n\nfunction Signin() {\n  _s();\n\n  const [user, setUser] = useState(initialState);\n  const {\n    name,\n    email,\n    role,\n    password,\n    cf_password,\n    err,\n    success\n  } = user;\n\n  const handleChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isEmpty(email) || isEmpty(role) || isEmpty(password) || isEmpty(cf_password)) return setUser({ ...user,\n      err: \"Please fill in all fields.\",\n      success: ''\n    });\n    if (!isEmail(email)) return setUser({ ...user,\n      err: \"Invalid emails.\",\n      success: ''\n    });\n    if (isLength(password)) return setUser({ ...user,\n      err: \"Password must be at least 6 characters.\",\n      success: ''\n    });\n    if (!isMatch(password, cf_password)) return setUser({ ...user,\n      err: \"Password did not match.\",\n      success: ''\n    });\n\n    try {\n      const res = await axios.post('/user/register', {\n        name,\n        email,\n        password,\n        role\n      });\n      setUser({ ...user,\n        err: '',\n        success: res.data.msg\n      });\n    } catch (err) {\n      err.response.data.msg && setUser({ ...user,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signin\",\n    children: [err && showErrMsg(err), success && showSuccessMsg(success), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"username\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Email or Phone\",\n        id: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        id: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"social\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"go\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fab fa-google\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 19\n          }, this), \"  Google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"fb\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fab fa-facebook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 19\n          }, this), \"  Facebook\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signin, \"56TLVdFAcWBHHsQI8j4Us/N+mhk=\");\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["E:/Project/1/Project/ITPM/frontend/src/components/User/signin.js"],"names":["React","useState","axios","showErrMsg","showSuccessMsg","isEmpty","isEmail","isLength","isMatch","initialState","name","email","password","role","cf_password","err","success","Signin","user","setUser","handleChangeInput","e","value","target","handleSubmit","preventDefault","res","post","data","msg","response"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport './signin.css';\r\nimport axios from \"axios\";\r\nimport { showErrMsg, showSuccessMsg } from './../Notification'\r\nimport { isEmpty, isEmail, isLength, isMatch } from './validation'\r\n\r\nconst initialState = {\r\n  name: '',\r\n  email: '',\r\n  password: '',\r\n  role: '',\r\n  cf_password: '',\r\n  err: '',\r\n  success: ''\r\n}\r\n\r\nfunction Signin() {\r\n\r\n  const [user, setUser] = useState(initialState)\r\n\r\n  const { name, email, role, password, cf_password, err, success } = user\r\n\r\n  const handleChangeInput = e => {\r\n    const { name, value } = e.target\r\n    setUser({ ...user, [name]: value, err: '', success: '' })\r\n  }\r\n\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n    if (isEmpty(email) || isEmpty(role) || isEmpty(password) || isEmpty(cf_password))\r\n      return setUser({ ...user, err: \"Please fill in all fields.\", success: '' })\r\n\r\n    if (!isEmail(email))\r\n      return setUser({ ...user, err: \"Invalid emails.\", success: '' })\r\n\r\n    if (isLength(password))\r\n      return setUser({ ...user, err: \"Password must be at least 6 characters.\", success: '' })\r\n\r\n    if (!isMatch(password, cf_password))\r\n      return setUser({ ...user, err: \"Password did not match.\", success: '' })\r\n\r\n\r\n\r\n    try {\r\n      const res = await axios.post('/user/register', {\r\n        name, email, password, role\r\n      })\r\n\r\n      setUser({ ...user, err: '', success: res.data.msg })\r\n    } catch (err) {\r\n      err.response.data.msg &&\r\n        setUser({ ...user, err: err.response.data.msg, success: '' })\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"signin\">\r\n      {err && showErrMsg(err)}\r\n      {success && showSuccessMsg(success)}\r\n      <form onSubmit={handleSubmit}>\r\n      <h3>Login Here</h3>\r\n\r\n<label for=\"username\">Username</label>\r\n<input type=\"text\" placeholder=\"Email or Phone\" id=\"username\"></input>\r\n\r\n<label for=\"password\">Password</label>\r\n<input type=\"password\" placeholder=\"Password\" id=\"password\"></input>\r\n\r\n<button>Log In</button>\r\n<div class=\"social\">\r\n  <div class=\"go\"><i class=\"fab fa-google\"></i>  Google</div>\r\n  <div class=\"fb\"><i class=\"fab fa-facebook\"></i>  Facebook</div>\r\n</div>\r\n        \r\n        {/* <div className=\"main\">\r\n\r\n\r\n          <div className='sub-main'>\r\n            <div>\r\n\r\n              <div className='container-image'>\r\n\r\n              </div>\r\n              <div className=\"box\">\r\n                <h1>Sign In</h1>\r\n                <div>\r\n                  <input type=\"text\" placeholder=\"Enter email address\" id=\"email\"\r\n                    value={email} name=\"email\" onChange={handleChangeInput} />\r\n                </div>\r\n                <div>\r\n                  <input type=\"text\" placeholder=\"Enter role address\" id=\"role\"\r\n                    value={role} name=\"role\" onChange={handleChangeInput} />\r\n                </div>\r\n                <div className='second-input'>\r\n                  <input type=\"password\" placeholder=\"Enter password\" id=\"password\"\r\n                    value={password} name=\"password\" onChange={handleChangeInput} />\r\n                </div>\r\n                <div className='next-input'>\r\n                  <input type=\"password\" placeholder=\"Confirm password\" id=\"cf_password\"\r\n                    value={cf_password} name=\"cf_password\" onChange={handleChangeInput} />\r\n                </div>\r\n                <div className='signin-button'>\r\n                  <button>Signin</button>\r\n                </div>\r\n                <p className='link'>\r\n                  <a href='/log'>Login</a>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n      </form>\r\n\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Signin\r\n"]},"metadata":{},"sourceType":"module"}